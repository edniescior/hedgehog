XBI Data Warehouse (BXBIP) Data Dictionary
==========================================
Edward Niescior <Edward_Niescior@cable.comcast.com>
v0.1, 2015-02-01
:icons: font
:imagesdir: ./
:data-uri:
:toc:
:toclevels: 3
:description: This document is the data dictionary for the XBI data warehouse (DW) and Operational Data Store (ODS).

== Introduction

{description} 

The data warehouse (which exists in the XBI_PRES schema) follows a traditional dimensional model, consisting 
of numerous fact and dimension tables, logically grouped into subject areas. It contains historical data that has been 
collected and integrated from various source systems around the enterprise and is used for reporting and data analysis 
in support of the X1 project. 

The operational data store (which exists in the XBI_ODS schema) is used primarily for replicating operational data 
sources for which direct access to the operational systems is either not an option or is especially difficult. A 
data source such as XBO that resides in Cassandra is a good example of such a system. The data in the ODS more reflects 
current state of an object rather than the more historical perspective of the DW. 

=== Audience
* Data analysts who need to understand the format and content of the DW and ODS tables.
* Software engineers who wish to use data stored in the DW or ODS in applications.
* Program managers who need to understand what data is made available by XBI.

=== Data Collection, Processing and Storage

The DW and ODS reside in separate schemas -- XBI_PRES and XBI_ODS -- on the same Oracle 12g instance (BXBIP). 
Users access a read-only replica (Data Guard) that resides in the Potomac data center.

The data integration layer is made up of a cluster of servers running http://www.pentaho.com/product/data-integration[Pentaho], 
an open-source ETL tool. Most data integration happens via Pentaho jobs, though for some high-volume data (e.g. XRE clickstream) 
the processing is often pushed down to the Hadoop layer before being picked up by Pentaho.

Job automation is managed by http://www.stonebranch.com/products/automation-center/[Stonebranch Opswise]. It provides advanced job
scheduling and monitoring capabilities. It currently manages the execution of close to ten thousand ETL job instances per day.

The ETL jobs ingest data from a number of source systems from around the enterprise. These source systems exist on a variety 
of platforms and provide us with a wide mix of data formats ranging from plain text files to JSON web service responses. 
The frequency of these extracts range from once-daily to 5-minute batch intervals, depending on the source system.

[[img-xbi-hl-intro]]
image::XBI_HL_ETL_Intro.jpg[caption="Figure 1: ", title="Source Systems and Platforms", alt="XBI_SourceSystems"]

Data in most of the fact tables in the DW is stored indefinitely. In the cases where the volume of data becomes too unwieldy 
for a single fact table to hold, e.g any of the XRE usage clickstream fact tables, we typically keep only a rolling _n_ days' worth of
data in the database. Any partitions older than _n_ days are \'rolled-off'. The value of _n_ is documented under the table in 
question for each fact table where this data retention policy is applied. Typically, the value of _n_ is 30 days. Note that 
the source data for these tables is retained for a much longer period in HDFS.

Data stored in the ODS is non-historical in nature for the most part and the data retention policy is simply to keep it as is. 
There are some exceptions to this rule and this is documented against each table that departs from the norm.

=== Terms and Concepts
[horizontal]
BXBIP:: The production database instance housing the XBI data warehouse.
DW:: The data warehouse (Schema: XBI_PRES).
ODS:: The operational data store (Schema: XBI_ODS).
Surrogate Key:: An unique numeric identifier dimension key generated by XBI.

== Subject Areas


include::core.asciidoc[leveloffset=+1]


include::usage.asciidoc[leveloffset=+1]


// Account

// Device

// Activations

// CPE

//DVR

// Care

// IP Video

// Miscellaneous DW

//XBI_ODS
